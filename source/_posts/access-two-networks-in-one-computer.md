---
title: 在一台电脑上通过路由设置实现同时访问两个网络
description: 应用场景--同时上政务外网及互联网：同时上办公内网及互联网;在接入时，有双网卡的情况，也有一个网卡的情况。这种情况下，一般是一个为有线网卡，另一个为无线网卡。有线连内部网或政务网，而无线连互联网（或是wifi,或是4G)。

date: 2020-03-12 22:48:00
categories:
- [运维,网络]
tags:
- 双网
- 路由
---

# 1.应用场景
>同时上政务外网及互联网;  
同时上办公内网及互联网;  
在接入时，有双网卡的情况，也有一个网卡的情况。

# 2.双网卡的情况
>这种情况下，一般是一个为有线网卡，另一个为无线网卡。有线连内部网或政务网，而无线连互联网（或是wifi,或是4G)。

**步骤**

1.先正常设置无线网卡，确认互联网正常能上网

2.再设置有线网卡，设置时不要添加网关

3.将有线网卡所在网段，进行路由设置.假如网关为：183.223.135.1

只允许所有183.223.135段的IP都能访问，则执行：
```shell
route add 183.223.135.0 mask 255.255.255.0 183.223.135.1 -p 
```

只允许所有183.227段的IP都能访问，则执行：
```shell
route add 183.223.0.0 mask 255.255.0.0 183.223.135.1 -p 
```

允许所有59段的IP都能访问，则执行：
```shell
route add 183.0.0.0 mask 255.0.0.0 183.223.135.1 -p 
```
>注：  
网段与掩码一定要匹配

# 3.单网卡的情况

**与双网卡相比最重要的区别**

>要将互联网IP设置为第一个IP,其他网段的往后放，路由设置同上。

# 4.相关命令的使用

**打印IP V4路由设置情况，执行：**
```shell
route print -4
```
**删除指定路由，执行：**
```shell
route delete 183.0.0.0 
```
>上述命令删除183.0.0.0的路由

**分析路由设置是否正确，执行:**
```shell
tracert 183.223.135.131
```
>通过tracert命令，能分析你的路由设置是否正确，比如上面是否跳到并通过了网关 183.223.135.1

